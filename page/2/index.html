<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Utopia - always for the end , the meaning is there</title><meta name="author" content="老罗素"><meta name="copyright" content="老罗素"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="it&#39;s Loki not Mimir">
<meta property="og:type" content="website">
<meta property="og:title" content="Utopia">
<meta property="og:url" content="http://cjz-lxg.com/page/2/index.html">
<meta property="og:site_name" content="Utopia">
<meta property="og:description" content="it&#39;s Loki not Mimir">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://cjz-lxg.com/img/avatar.jpg">
<meta property="article:author" content="老罗素">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://cjz-lxg.com/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://cjz-lxg.com/page/2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 老罗素","link":"链接: ","source":"来源: Utopia","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Utopia',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-01-28 07:05:27'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">76</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">57</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page fixed" id="page-header" style="background-image: url('/photo/D7D85A32F8F87770609576F97F1120B2.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Utopia"><span class="site-name">Utopia</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Utopia</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/cjz-lxg" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/01/22/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%E7%9A%84key,value%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E4%B8%BAnull,HashMap%E5%91%A2/" title="ConcurrentHashMap的key,value是否可以为null,HashMap呢"><img class="post-bg" src="/photo/40B7768323147B27A8807546376D06C5.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ConcurrentHashMap的key,value是否可以为null,HashMap呢"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/22/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%E7%9A%84key,value%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E4%B8%BAnull,HashMap%E5%91%A2/" title="ConcurrentHashMap的key,value是否可以为null,HashMap呢">ConcurrentHashMap的key,value是否可以为null,HashMap呢</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-21T16:23:45.000Z" title="发表于 2024-01-22 00:23:45">2024-01-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E7%BB%8F/">面经</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%B9%B6%E5%8F%91/">并发</a></span></div><div class="content">首先, HashMap是可以允许key,value为null值的, 但是ConcurrentHashMap不允许,暂时不是很清楚为什么key值不可以为null值主要处于null值的二义性问题, 首先我们先来分析下为什么HashMap允许都为null值  
HashMap首先, 我们需要认识到一点, 键值对这种数据结构的特殊性, 它实际上表示的是一个元素和另一个元素的映射关系,这给它带来了一个特别的性质, 在非并发的情况下, 只要经过了键和值的双重有效性验证后, 就可以说存在这么一个键值对, 而在HashMap这种非并发结构中, 我们使用map.get(key)获取到一个null值时, 此时这个键值对存在二义性, 也就是key可能对应null值, 也可能是键值对并不存在,此时我们往往需要使用map.containKey(key)来判断, map中是否存在这个元素, 到这里, 我们可以发现, value在HashMap中可以为null值, 来源于我们可以使用key来进行判断  
ConcurrenHashMap现在我们来看一下ConcurrentHashMap在允许value为空后会导致什 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/01/21/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%E7%9A%84get%E6%96%B9%E6%B3%95%E6%98%AF%E5%90%A6%E8%A6%81%E5%8A%A0%E9%94%81,%E4%B8%BA%E4%BB%80%E4%B9%88/" title="ConcurrentHashMap的get方法是否要加锁,为什么"><img class="post-bg" src="/photo/2E635FD3FAFBF6DB2B0077C670692917.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ConcurrentHashMap的get方法是否要加锁,为什么"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/21/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%E7%9A%84get%E6%96%B9%E6%B3%95%E6%98%AF%E5%90%A6%E8%A6%81%E5%8A%A0%E9%94%81,%E4%B8%BA%E4%BB%80%E4%B9%88/" title="ConcurrentHashMap的get方法是否要加锁,为什么">ConcurrentHashMap的get方法是否要加锁,为什么</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-21T15:31:59.000Z" title="发表于 2024-01-21 23:31:59">2024-01-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E7%BB%8F/">面经</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%B9%B6%E5%8F%91/">并发</a></span></div><div class="content">不需要. get方法不涉及修改元素, 所以只会涉及到并发可见性的问题, 而ConcurrentHashMap中Node元素的value被volatile修饰, 也就没有了可见性的问题了
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/01/21/%E9%9D%A2%E7%BB%8F/JDK%201.8%20%E4%B8%AD,%20ConcurrentHashMap%E7%9A%84put%E6%93%8D%E4%BD%9C%E6%98%AF%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84/" title="JDK 1.8 中, ConcurrentHashMap的put操作是怎么样的"><img class="post-bg" src="/photo/40B7768323147B27A8807546376D06C5.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JDK 1.8 中, ConcurrentHashMap的put操作是怎么样的"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/21/%E9%9D%A2%E7%BB%8F/JDK%201.8%20%E4%B8%AD,%20ConcurrentHashMap%E7%9A%84put%E6%93%8D%E4%BD%9C%E6%98%AF%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84/" title="JDK 1.8 中, ConcurrentHashMap的put操作是怎么样的">JDK 1.8 中, ConcurrentHashMap的put操作是怎么样的</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-21T15:15:01.000Z" title="发表于 2024-01-21 23:15:01">2024-01-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E7%BB%8F/">面经</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%B9%B6%E5%8F%91/">并发</a></span></div><div class="content">首先, 如果桶没有初始化, 则初始化桶  
然后进行查找桶中的对应的Node , 如果Node为空, 则尝试使用CAS置入元素,成功后返回, 否则进入下一步
如果此时发现桶在进行扩容, 则将线程加入到扩容的过程中去
扩容结束后, 尝试对桶中的对应的Node上锁  
判断当前Node是链表的头节点还是红黑树的头节点  
链表:遍历找到插入或修改位置,完成对应操作  
红黑树: 遍历找到插入或修改位置, 完成对应操作  
如果元素存在, 返回旧值,不存在,则Map的大小加1, 并判断是否需要扩容
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/01/21/%E9%9D%A2%E7%BB%8F/JDK%201.8%E4%B8%AD,%20ConcurrentHashMap%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E9%93%BE%E8%A1%A8%E6%89%8D%E4%BC%9A%E8%BD%AC%E5%8C%96%E6%88%90%E7%BA%A2%E9%BB%91%E6%A0%91%E8%BF%9B%E8%A1%8C%E5%AD%98%E5%82%A8/" title="JDK 1.8中, ConcurrentHashMap什么情况下链表才会转化成红黑树进行存储"><img class="post-bg" src="/photo/2C9009102843BE21D3E592946199255D.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JDK 1.8中, ConcurrentHashMap什么情况下链表才会转化成红黑树进行存储"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/21/%E9%9D%A2%E7%BB%8F/JDK%201.8%E4%B8%AD,%20ConcurrentHashMap%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E9%93%BE%E8%A1%A8%E6%89%8D%E4%BC%9A%E8%BD%AC%E5%8C%96%E6%88%90%E7%BA%A2%E9%BB%91%E6%A0%91%E8%BF%9B%E8%A1%8C%E5%AD%98%E5%82%A8/" title="JDK 1.8中, ConcurrentHashMap什么情况下链表才会转化成红黑树进行存储">JDK 1.8中, ConcurrentHashMap什么情况下链表才会转化成红黑树进行存储</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-21T14:46:50.000Z" title="发表于 2024-01-21 22:46:50">2024-01-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E7%BB%8F/">面经</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%B9%B6%E5%8F%91/">并发</a></span></div><div class="content">在链表长度大于8 并且数组长度大于等于64时. 当数组长度小于64时, ConcurrentHashMap会选择扩容为原来的两倍来缓解单个链表元素过大导致的性能问题而不是直接进行树化在Node数组长度小于阈值MIN_TREEIFY_CAPACITY,这个默认值为64
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/01/21/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%20JDK%201.7%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%92%8C1.8%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB/" title="ConcurrentHashMap JDK 1.7的实现和1.8的实现有什么区别"><img class="post-bg" src="/photo/929EFC004D821B34420FC539EC152567.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ConcurrentHashMap JDK 1.7的实现和1.8的实现有什么区别"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/21/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%20JDK%201.7%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%92%8C1.8%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB/" title="ConcurrentHashMap JDK 1.7的实现和1.8的实现有什么区别">ConcurrentHashMap JDK 1.7的实现和1.8的实现有什么区别</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-21T14:36:24.000Z" title="发表于 2024-01-21 22:36:24">2024-01-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E7%BB%8F/">面经</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%B9%B6%E5%8F%91/">并发</a></span></div><div class="content">底层数据结构JDK 1.7的底层数据结构为数组加上链表的结构, JDK 1.8 的底层数据结构则是数组加上链表&#x2F;红黑树的结构 
实现的方式JDK 1.7 版本的实现中, 依赖于Segment数组, 其数量直接影响并发量, 而JDK 1.8版本中的实现中, 则是使用了cas和synchronize, 颗粒度更细, 并发量与Node数组相关, 并发能力更强
hash碰撞的处理办法JDK 1.7版本中使用的是拉链法, 而JDK 1.8中则是使用的拉链法和红黑树, 当链表长度大于阈值时, 则从链表转化为红黑树
并发量JDK 1.7版本的实现并发量依赖于Segment数组的大小, JDK 1.8版本则是Node数组的大小.
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/01/21/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%20JDK%201.8%20%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88/" title="ConcurrentHashMap JDK 1.8 实现的原理是什么"><img class="post-bg" src="/photo/65B9EF50CA1267CCB0C7DDD28738E766.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ConcurrentHashMap JDK 1.8 实现的原理是什么"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/21/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%20JDK%201.8%20%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88/" title="ConcurrentHashMap JDK 1.8 实现的原理是什么">ConcurrentHashMap JDK 1.8 实现的原理是什么</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-21T14:20:51.000Z" title="发表于 2024-01-21 22:20:51">2024-01-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E7%BB%8F/">面经</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%B9%B6%E5%8F%91/">并发</a></span></div><div class="content">底层数据结构ConcurrentHashMap  在 JDK 1.8 版本下, 其底层数据结构有Node数组加上链表&#x2F;红黑树构成
实现原理这个版本下的ConcurrentHashMap 并发控制依靠cas和synchronize来实现并发控制, 具体来讲, 当需要修改的节点或添加的节点位置为空时, 采用cas操作, 而当Node位置不为空时, 则需要使用synchronize来锁住该Node,保证并发的安全性. 因为其使用cas和synchronize来进行并发控制, 所以其不需要JDK 1.7版本的Segment来充当锁的作用, 其并发量直接与Node数组相关, 颗粒度更细, 能够承载更高的并发
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/01/21/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%20JDK%201.7%20%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88/" title="ConcurrentHashMap JDK 1.7 实现的原理是什么"><img class="post-bg" src="/photo/2E635FD3FAFBF6DB2B0077C670692917.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ConcurrentHashMap JDK 1.7 实现的原理是什么"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/21/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%20JDK%201.7%20%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88/" title="ConcurrentHashMap JDK 1.7 实现的原理是什么">ConcurrentHashMap JDK 1.7 实现的原理是什么</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-21T14:01:04.000Z" title="发表于 2024-01-21 22:01:04">2024-01-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E7%BB%8F/">面经</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%B9%B6%E5%8F%91/">并发</a></span></div><div class="content">底层数据结构ConcurrentHashMap由HashEntry和Segment组成, 其中, HashEntry是一个链表结构, 每一个HashEntry存储着一个键值对, 而 Segment则是数组结构, 存储着HashEntry, 同时, Segment继承了ReentrantLock也就是可重入锁, 所以其本身也是一个锁, 达到了控制并发的目的,同时, 这个Segment数组的大小被初始化后就不可以被更改,其默认值是16, 表示其最多同时16个线程并发执行读写操作
实现的过程其实现的原理非常朴素, 我们在学习Hashtable时知道,Hashtable实现并发就是将整个HashEntry数组进行加锁, 这导致了每次只能有一个线程获取到数组资源, 极大的降低了并发效率, 而JDK 1.7 版本的ConcurrentHashMap则注意到, 我们可以将Hashtable中的一整个数组进行分段处理, 然后每次修改添加时首先散列hash值找出我们需要的元素的位置, 然后对其所属的段进行加锁即可,其他的段不加锁, 如果此时有其他线程想要访问修改资源, 则可以直接加锁即可, 而我们前面所 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/01/21/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%20%E5%92%8C%20Hashtable%20%E7%9A%84%E5%8C%BA%E5%88%AB/" title="ConcurrentHashMap 和 Hashtable 的区别"><img class="post-bg" src="/photo/929EFC004D821B34420FC539EC152567.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ConcurrentHashMap 和 Hashtable 的区别"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/21/%E9%9D%A2%E7%BB%8F/ConcurrentHashMap%20%E5%92%8C%20Hashtable%20%E7%9A%84%E5%8C%BA%E5%88%AB/" title="ConcurrentHashMap 和 Hashtable 的区别">ConcurrentHashMap 和 Hashtable 的区别</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-21T12:18:29.000Z" title="发表于 2024-01-21 20:18:29">2024-01-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E7%BB%8F/">面经</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%B9%B6%E5%8F%91/">并发</a></span></div><div class="content">底层数据结构的区别
JDK 1.7 版本的 ConcurrentHashMap：

底层结构为分段数组加上链表。


JDK 1.8 版本的 ConcurrentHashMap：

底层结构为数组加上链表或红黑树。


Hashtable：

底层结构为数组加上链表。



实现并发编程的区别
Hashtable：

最简单的实现方式，进行并发操作（如修改）时，会使用 synchronize 锁住整张表，这导致其操作效率低下，特别是在高并发的情况下。


JDK 1.7 版本的 ConcurrentHashMap：

改进了 Hashtable 的缺陷，通过引入 segment 层，将数据分段，每个段称为一个 segment，每个 segment 对应多个 HashEntry，操作时只需针对相应的 segment 进行加锁和解锁，无需锁住整个数组。


JDK 1.8 版本的 ConcurrentHashMap：

进一步优化，其数据结构与 HashMap 相同，读操作不需要加锁，直接读取，因为其值被 volatile 修饰，确保了读取操作的正确性。在修改或添加节点时，会根据节点的状态 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/01/19/project/git%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4%E6%9F%90%E4%B8%AA%E5%B7%B2%E7%BB%8F%E8%A2%AB%E6%8F%90%E4%BA%A4%E7%9A%84%E6%96%87%E4%BB%B6/" title="git如何删除某个已经被提交的文件"><img class="post-bg" src="/photo/605E44FF13FF0ADEFF2D782353F45F6B.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="git如何删除某个已经被提交的文件"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/19/project/git%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4%E6%9F%90%E4%B8%AA%E5%B7%B2%E7%BB%8F%E8%A2%AB%E6%8F%90%E4%BA%A4%E7%9A%84%E6%96%87%E4%BB%B6/" title="git如何删除某个已经被提交的文件">git如何删除某个已经被提交的文件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-19T07:32:35.000Z" title="发表于 2024-01-19 15:32:35">2024-01-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/project/">project</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/git/">git</a></span></div><div class="content">前言今天git push的时候一直上传不上去, 提醒我gitlab拒绝了我的请求, 我首先黑人问号, 然后想到了我提前不小心把我那个1G的镜像也提交了,所以有了这次的经历,我这次的经历还是比较曲折的, 首先, 那个要删除的文件本身并不是在我当前提交下的, 它是我提交了三个分支以后发现的问题, 导致我无法直接git checkout切回那个分支将它删除,同时也无法使用git rm --cached 文件名将它删除, 同时我错误的提问导致了gpt给了我个错误的命令git revert ,导致我删除了那个提交下的全部文件, 同时, 在我看到结果不对时 , 我错误的理解git revert的作用, 使用了错误的命令git reset 提交记录到了前面的提交,这大致就是我一整个经过,下面是我解决这个问题的过程
删除经过首先, 因为我印象中廖雪峰讲过, git log的提交记录虽然会因为git reset而变得没有后面的提交, 但是实际上,它是不会删除后面的提交的, 只要我知道了后面提交的hash值, 则可以回到后面的分支, 由此复原到了git revert阶段
然后我通过询问gpt , 知道了g ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/01/02/backend/java/Java%E4%B8%AD%E5%85%B3%E4%BA%8EAQS%E7%9A%84final%E8%AE%BE%E8%AE%A1/" title="Java中关于AQS的final设计"><img class="post-bg" src="/photo/D0B985C47B2A38724C95AFD518E1C9CC.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java中关于AQS的final设计"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/02/backend/java/Java%E4%B8%AD%E5%85%B3%E4%BA%8EAQS%E7%9A%84final%E8%AE%BE%E8%AE%A1/" title="Java中关于AQS的final设计">Java中关于AQS的final设计</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-02T11:16:07.000Z" title="发表于 2024-01-02 19:16:07">2024-01-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">java</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%B9%B6%E5%8F%91/">并发</a></span></div><div class="content">前言今天粗略扫了了下AQS的源码, 发现其中关于final的用法很巧妙,所以分享下
设计思路我们都知道final修饰的成员方法是可以继承但是不可以被子类重写的, 这意味着我们可以将final包装成一个模板方法, 具体的例子我们可以看AQS提供的acquire方法, 可以发现, 诸如线程等待队列,定时返回等复杂操作全被AQS代我们完成, 我们只需要完成对tryAcquire的重写, 其他的我们不需要关心, 也就是我们只需要关心这个锁的规则是什么, 他应该怎么锁, 形如我们设置电子锁的密码一样, 我们不需要了解这个电子锁是怎么构成的,我们只要输上我们的密码就好.
</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/#content-inner">8</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">老罗素</div><div class="author-info__description">it's Loki not Mimir</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">76</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">57</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/cjz-lxg?tab=repositories"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/cjz-lxg" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">使用obsdian编写blog,所以博客内容会呈现碎片化,同时部分链接无法会跳转到莫名奇妙的位置,同时部分blog内容由gpt生成,但经过本人核验和修改,基本没有什么太大问题,除了是英文,当你在阅读时如果出现问题,请借助各种翻译软件,同时,我在后记中提到的前置知识在博客中都有,如果你确实需要,可以寻找下</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/01/26/%E9%9D%A2%E7%BB%8F/%E4%BD%A0%E8%87%AA%E5%B7%B1%E6%80%8E%E6%A0%B7%E7%90%86%E8%A7%A3CAS%E6%9C%BA%E5%88%B6%E7%9A%84/" title="你自己怎样理解CAS机制的"><img src="/photo/130E9A4D9F1E8370DC28259F1A55EC5A.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="你自己怎样理解CAS机制的"/></a><div class="content"><a class="title" href="/2024/01/26/%E9%9D%A2%E7%BB%8F/%E4%BD%A0%E8%87%AA%E5%B7%B1%E6%80%8E%E6%A0%B7%E7%90%86%E8%A7%A3CAS%E6%9C%BA%E5%88%B6%E7%9A%84/" title="你自己怎样理解CAS机制的">你自己怎样理解CAS机制的</a><time datetime="2024-01-26T12:09:00.000Z" title="发表于 2024-01-26 20:09:00">2024-01-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/26/project/AOP%E5%AE%9E%E7%8E%B0%E5%88%87%E9%9D%A2%E6%97%A5%E5%BF%97/" title="AOP实现切面日志"><img src="/photo/2E90D4650B9E0162A23EFF322B2F1F6F.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AOP实现切面日志"/></a><div class="content"><a class="title" href="/2024/01/26/project/AOP%E5%AE%9E%E7%8E%B0%E5%88%87%E9%9D%A2%E6%97%A5%E5%BF%97/" title="AOP实现切面日志">AOP实现切面日志</a><time datetime="2024-01-26T10:16:49.000Z" title="发表于 2024-01-26 18:16:49">2024-01-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/25/project/%E5%A6%82%E4%BD%95%E8%87%AA%E5%8A%A8%E7%9B%91%E8%A7%86ts%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E5%8F%98%E5%8C%96%E5%B9%B6%E5%9C%A8%E4%BF%AE%E6%94%B9%E4%BF%9D%E5%AD%98%E5%90%8E%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF%E6%95%B4%E4%B8%AA%E9%A1%B9%E7%9B%AE/" title="如何自动监视ts项目文件变化并在修改保存后自动重启整个项目"><img src="/photo/2C9009102843BE21D3E592946199255D.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何自动监视ts项目文件变化并在修改保存后自动重启整个项目"/></a><div class="content"><a class="title" href="/2024/01/25/project/%E5%A6%82%E4%BD%95%E8%87%AA%E5%8A%A8%E7%9B%91%E8%A7%86ts%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E5%8F%98%E5%8C%96%E5%B9%B6%E5%9C%A8%E4%BF%AE%E6%94%B9%E4%BF%9D%E5%AD%98%E5%90%8E%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF%E6%95%B4%E4%B8%AA%E9%A1%B9%E7%9B%AE/" title="如何自动监视ts项目文件变化并在修改保存后自动重启整个项目">如何自动监视ts项目文件变化并在修改保存后自动重启整个项目</a><time datetime="2024-01-25T04:01:59.000Z" title="发表于 2024-01-25 12:01:59">2024-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/25/project/%E5%A6%82%E4%BD%95%E5%B0%86ts%E6%96%87%E4%BB%B6%E7%BC%96%E8%AF%91%E6%88%90js%E6%96%87%E4%BB%B6,%20%E5%B9%B6%E8%BF%90%E8%A1%8C/" title="如何将ts文件编译成js文件, 并运行"><img src="/photo/2C9009102843BE21D3E592946199255D.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何将ts文件编译成js文件, 并运行"/></a><div class="content"><a class="title" href="/2024/01/25/project/%E5%A6%82%E4%BD%95%E5%B0%86ts%E6%96%87%E4%BB%B6%E7%BC%96%E8%AF%91%E6%88%90js%E6%96%87%E4%BB%B6,%20%E5%B9%B6%E8%BF%90%E8%A1%8C/" title="如何将ts文件编译成js文件, 并运行">如何将ts文件编译成js文件, 并运行</a><time datetime="2024-01-25T02:21:05.000Z" title="发表于 2024-01-25 10:21:05">2024-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/24/project/Passportjs%20%E7%AC%94%E8%AE%B0/" title="Passportjs 笔记"><img src="/photo/B3A81F6939CB17CC0BCF885A47DDFE13.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Passportjs 笔记"/></a><div class="content"><a class="title" href="/2024/01/24/project/Passportjs%20%E7%AC%94%E8%AE%B0/" title="Passportjs 笔记">Passportjs 笔记</a><time datetime="2024-01-24T12:33:02.000Z" title="发表于 2024-01-24 20:33:02">2024-01-24</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/OS/"><span class="card-category-list-name">OS</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/java/"><span class="card-category-list-name">java</span><span class="card-category-list-count">17</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/linux/"><span class="card-category-list-name">linux</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/project/"><span class="card-category-list-name">project</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/reverse/"><span class="card-category-list-name">reverse</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/tools/"><span class="card-category-list-name">tools</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/web/"><span class="card-category-list-name">web</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E4%B8%9A%E5%8A%A1%E7%BB%84%E4%BB%B6/"><span class="card-category-list-name">业务组件</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/kail/" style="font-size: 1.1em; color: #999">kail</a> <a href="/tags/IO/" style="font-size: 1.34em; color: #99a3b0">IO</a> <a href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 1.1em; color: #999">反射</a> <a href="/tags/springcloud/" style="font-size: 1.1em; color: #999">springcloud</a> <a href="/tags/List/" style="font-size: 1.18em; color: #999ca1">List</a> <a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 1.1em; color: #999">日志</a> <a href="/tags/vim/" style="font-size: 1.1em; color: #999">vim</a> <a href="/tags/jackson/" style="font-size: 1.18em; color: #999ca1">jackson</a> <a href="/tags/upx/" style="font-size: 1.18em; color: #999ca1">upx</a> <a href="/tags/html/" style="font-size: 1.1em; color: #999">html</a> <a href="/tags/%E9%9B%86%E5%90%88/" style="font-size: 1.1em; color: #999">集合</a> <a href="/tags/java/" style="font-size: 1.5em; color: #99a9bf">java</a> <a href="/tags/serialization/" style="font-size: 1.1em; color: #999">serialization</a> <a href="/tags/docker/" style="font-size: 1.18em; color: #999ca1">docker</a> <a href="/tags/Python/" style="font-size: 1.18em; color: #999ca1">Python</a> <a href="/tags/fastJSON/" style="font-size: 1.1em; color: #999">fastJSON</a> <a href="/tags/spring/" style="font-size: 1.1em; color: #999">spring</a> <a href="/tags/%E6%8E%88%E6%9D%83/" style="font-size: 1.1em; color: #999">授权</a> <a href="/tags/%E5%B0%8Ftrick/" style="font-size: 1.1em; color: #999">小trick</a> <a href="/tags/git/" style="font-size: 1.18em; color: #999ca1">git</a> <a href="/tags/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/" style="font-size: 1.18em; color: #999ca1">系统设计</a> <a href="/tags/wireshark/" style="font-size: 1.1em; color: #999">wireshark</a> <a href="/tags/%E5%BA%8F%E5%88%97%E5%8C%96/" style="font-size: 1.1em; color: #999">序列化</a> <a href="/tags/systemcall/" style="font-size: 1.18em; color: #999ca1">systemcall</a> <a href="/tags/reverse/" style="font-size: 1.18em; color: #999ca1">reverse</a> <a href="/tags/school/" style="font-size: 1.18em; color: #999ca1">school</a> <a href="/tags/math/" style="font-size: 1.1em; color: #999">math</a> <a href="/tags/shortcut/" style="font-size: 1.1em; color: #999">shortcut</a> <a href="/tags/minio/" style="font-size: 1.1em; color: #999">minio</a> <a href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" style="font-size: 1.1em; color: #999">源码分析</a> <a href="/tags/%E6%B3%9B%E5%9E%8B/" style="font-size: 1.18em; color: #999ca1">泛型</a> <a href="/tags/%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF/" style="font-size: 1.18em; color: #999ca1">配置信息</a> <a href="/tags/ida/" style="font-size: 1.1em; color: #999">ida</a> <a href="/tags/%E5%86%85%E9%83%A8%E7%B1%BB/" style="font-size: 1.1em; color: #999">内部类</a> <a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 1.42em; color: #99a6b7">并发</a> <a href="/tags/androd/" style="font-size: 1.1em; color: #999">androd</a> <a href="/tags/Makefile/" style="font-size: 1.1em; color: #999">Makefile</a> <a href="/tags/idea/" style="font-size: 1.26em; color: #999fa8">idea</a> <a href="/tags/%E6%B3%A8%E8%A7%A3/" style="font-size: 1.26em; color: #999fa8">注解</a> <a href="/tags/exeinfope/" style="font-size: 1.18em; color: #999ca1">exeinfope</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">21</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">27</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">16</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">76</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">41.8k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-01-27T23:05:27.607Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/photo/D7D85A32F8F87770609576F97F1120B2.png')"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By 老罗素</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><img src="/img/beian.png" style="display:inline-block;text-decoration:none;height:13px;"/><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/">闽公网安备 35018202000415号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["always for the end , the meaning is there"])
  } else {
    document.getElementById("subtitle").textContent = "always for the end , the meaning is there"
  }
}
typedJSFn.run(subtitleType)</script></div><canvas class="fireworks" mobile="fasle"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 190px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 160px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover1.webp);"> <a class="categoryBar-list-link" href="categories/linux/">linux</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">Ubuntu指南</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover2.webp);"> <a class="categoryBar-list-link" href="categories/reverse/">reverse</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">玩转Win10</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover3.webp);"> <a class="categoryBar-list-link" href="categories/web/">web</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">长篇小说连载</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover4.webp);"> <a class="categoryBar-list-link" href="categories/小trick/">小trick</a><span class="categoryBar-list-count">10</span><span class="categoryBar-list-descr">个人日记</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover5.webp);"> <a class="categoryBar-list-link" href="categories/tools/">tools</a><span class="categoryBar-list-count">12</span><span class="categoryBar-list-descr">诗词歌赋</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover6.webp);"> <a class="categoryBar-list-link" href="categories/后端开发工程师的前端小记/">后端开发工程师的前端小记</a><span class="categoryBar-list-count">5</span><span class="categoryBar-list-descr">杂谈教程</span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" href="categories/OS/">OS</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" href="categories/java/">java</a><span class="categoryBar-list-count">17</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" href="categories/project/">project</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" href="categories/业务组件/">业务组件</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" href="categories/面经/">面经</a><span class="categoryBar-list-count">12</span><span class="categoryBar-list-descr"></span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/categories'|| '/categories' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><!-- hexo injector body_end end --></body></html>